<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>CoreOS: Cluster out of the box</title>

		<meta name="description" content="Introduction to CoreOS, etcd, fleet and shipping containers like a boss">
		<meta name="author" content="Łukasz Adamczyk & Vladimir Mitiouchev">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<div class="slides">
				<section>
					<h2>CoreOS: Cluster out of the box</h2>
					<br>
					<h4>Introduction to CoreOS, etcd, fleet and shipping containers like a boss</h4>
					<br><br>
					<small>Created by <a href="http://adamczyk.czest.pl">Łukasz Adamczyk</a> &amp; Vladimir Mitiouchev</small>
					<br>
					<img src="gfx/avsystem.png" style="border: 0px; background: none; box-shadow: none;">
				</section>

				<section>
					<h3>Agenda</h3>
					<br>
					<ul>
						<li class="fragment">Clustering</li>
						<li class="fragment">etcd</li>
						<li class="fragment">CoreOS</li>
						<li class="fragment">fleet</li>
					</ul>
				</section>
				
				<section data-background="#00639E">
					<h3>CoreOS</h3>
					<br>
					<ul>
						<li class="fragment">Cluster oriented</li>
						<li class="fragment">Container oriented</li>
						<li class="fragment">Chromium OS/Gentoo based</li>
						<li class="fragment">Rolling releases</li>
					</ul>
				</section>

				<section data-background="#00639E">
					<h3>CoreOS</h3>
					<br>
					<ul>
						<li class="fragment">Fast and lightweight distro</li>
						<li class="fragment">64bit only</li>
						<li class="fragment">Built in Chaos Monkey</li>
						<li class="fragment">No package manager</li>
					</ul>
				</section>
				
				<section data-background="#00639E">
					<h3>Containers</h3>
					<br>
					<img src="gfx/coreos-containers.svg" style="border: 0px; background: none; box-shadow: none;">
				</section>

				<section data-background="#00639E">
					<h3>Supported containers</h3>
					<br>
					<ul>
						<li class="fragment">docker</li>
						<li class="fragment">rocket</li>
						<li class="fragment">systemd-nspawn</li>
					</ul>
				</section>

				<section data-background="#00639E">
					<h3>System updates</h3>
					<img src="gfx/coreos-update1.svg" style="border: 0px; background: none; box-shadow: none;">
					<br>
					CoreOS is currently booted off partition A. An update is installed onto partition B
				</section>

				<section data-background="#00639E">
					<h3>System updates</h3>
					<img src="gfx/coreos-update2.svg" style="border: 0px; background: none; box-shadow: none;">
					<br>
					Machine is rebooted onto the B partition
				</section>

				<section data-background="#00639E">
					<h3>System updates</h3>
					<br>
					<ul>
						<li class="fragment">Safe and easy rollback</li>
						<li class="fragment">Signed and easy to verify system image</li>
						<li class="fragment">Fast reboot with kexec</li>
					</ul>
				</section>
				
				<section data-background="#00639E">
					<h3>cloud-config</h3>
					<br>
					<ul>
						<li class="fragment">
							coreos
							<ul>
								<li class="fragment">coreos.etcd.*</li>
								<li class="fragment">coreos.fleet.*</li>
								<li class="fragment">coreos.update.*</li>
							</ul>
						</li>
						<li class="fragment">ssh_authorized_keys</li>
						<li class="fragment">hostname</li>
						<li class="fragment">users</li>
						<li class="fragment">write_files</li>
						<li class="fragment">manage_etc_hosts</li>
					</ul>
				</section>

				<section data-background="#00639E">
					<h3>Installation from LiveCD</h3>
					<br>
					<code>coreos-install -d /dev/sda -C stable -c cloud-config.yaml</code>
					<br>
					<pre>
 -d DEVICE   Install CoreOS to the given device.
 -V VERSION  Version to install (e.g. current)
 -C CHANNEL  Release channel to use (e.g. beta)
 -o OEM      OEM type to install (e.g. openstack)
 -c CLOUD    Insert a cloud-init config to be executed on boot
 -t TMPDIR   Temporary location with enough space to download images
</pre>
				</section>

				<section data-background="#00639E">
					<h3>cloud-config example</h3>
					<br>
					<pre><code data-trim contenteditable>
#cloud-config
hostname: foobar1
ssh_authorized_keys:
  - ssh-rsa AAAAC7KsWb3w4s9i5/HJqyAbqqyqnR9I9two2htKOsCRd...
coreos:
  etcd:
    # generate using https://discovery.etcd.io/new
    discovery: https://discovery.etcd.io/&lt;token&gt;
    addr: 10.20.30.1:4001
    peer_addr: 10.20.30.1:7001
  units:
    - name: etcd.service
      command: start
    - name: fleet.service
      command: start
					</code></pre>
				</section>

				<section data-background="#4d7e65">
					<h3>systemd glossary</h3>
					<br>
					<ul>
						<li class="fragment"><code>unit</code><br>is a configuration file that describes the properties of the process that you'd like to run</li>
						<br><li class="fragment"><code>target</code><br>is a grouping mechanism that allows systemd to start up groups of processes at the same time</li>
					</ul>
				</section>

				<section data-background="#4d7e65">
					<h3>fleet</h3>
					<br>
					<blockquote>
						"You can think of fleet as an extension of systemd that operates at the cluster level instead of the machine level. Systemd is a single machine init system; fleet is a cluster init system."
					</blockquote>
				</section>

				<section>
					<h1>Any questions?</h1>
				</section>
				
				<section>
					<h1>Thank you for your attention</h1>
				</section>
				
				<section>
					<img src="gfx/avsystem-big.png" style="border: 0px; background: none; box-shadow: none;">
				</section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: false,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
